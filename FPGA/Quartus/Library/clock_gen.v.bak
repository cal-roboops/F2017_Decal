module CLOCK_GEN #(
  parameter INPUT_CLOCK_FREQ = 50_000_000, // Default 50MHz
  parameter OUTPUT_CLK_FREQ = 1_000_000, // Default 1MHz
)(
  input clk_in,
  output reg clk_out
);
  // Local params for helping
  localparam integer OUTPUT_CLK_PERIOD = INPUT_CLOCK_FREQ / (2 * OUTPUT_CLK_FREQ);
  localparam CLK_COUNTER_SIZE = `log2(OUTPUT_CLK_PERIOD);

  // Clock counter register
  reg [CLK_COUNTER_SIZE-1:0] CLK_COUNTER = 0;

  // SSI CLK GEN
  always @(posedge clk) begin
    if (OUTPUT_CLK_PERIOD <= CLK_COUNTER) begin
      clk_out <= !clk_out;
      CLK_COUNTER <= 0;
    end
    else CLK_COUNTER <= CLK_COUNTER + 1;
  end

endmodule