Version 4
SHEET 1 1556 724
WIRE -96 -528 -160 -528
WIRE 32 -528 -16 -528
WIRE 272 -528 224 -528
WIRE -1168 -496 -1168 -528
WIRE -1008 -496 -1008 -528
WIRE -848 -496 -848 -528
WIRE -400 -464 -432 -464
WIRE -160 -464 -160 -528
WIRE -160 -464 -272 -464
WIRE 256 -464 224 -464
WIRE 352 -464 320 -464
WIRE 480 -464 432 -464
WIRE 576 -464 480 -464
WIRE 608 -464 576 -464
WIRE -400 -432 -432 -432
WIRE -208 -432 -272 -432
WIRE 32 -432 -32 -432
WIRE 480 -432 480 -464
WIRE 576 -432 576 -464
WIRE -400 -400 -432 -400
WIRE -160 -400 -272 -400
WIRE -1168 -368 -1168 -416
WIRE -1008 -368 -1008 -416
WIRE -848 -368 -848 -416
WIRE -160 -320 -160 -400
WIRE -96 -320 -160 -320
WIRE 32 -320 -16 -320
WIRE 272 -320 224 -320
WIRE 480 -320 480 -368
WIRE 576 -320 576 -352
WIRE 256 -256 224 -256
WIRE 352 -256 320 -256
WIRE 480 -256 432 -256
WIRE 576 -256 480 -256
WIRE 624 -256 576 -256
WIRE 32 -224 -32 -224
WIRE 480 -224 480 -256
WIRE 576 -224 576 -256
WIRE 1152 -192 1152 -224
WIRE 1152 -192 896 -192
WIRE 1392 -192 1152 -192
WIRE 896 -144 896 -192
WIRE 1024 -144 896 -144
WIRE 1392 -144 1392 -192
WIRE 1392 -144 1264 -144
WIRE -1008 -128 -1008 -176
WIRE -832 -128 -832 -176
WIRE 896 -128 896 -144
WIRE 1392 -128 1392 -144
WIRE 480 -112 480 -160
WIRE 576 -112 576 -144
WIRE 1024 -112 1024 -144
WIRE 1264 -112 1264 -144
WIRE 848 -48 816 -48
WIRE 1344 -48 1328 -48
WIRE 896 -16 896 -32
WIRE 1024 -16 1024 -48
WIRE 1024 -16 896 -16
WIRE 1264 -16 1264 -48
WIRE 1392 -16 1392 -32
WIRE 1392 -16 1264 -16
WIRE -1008 16 -1008 -48
WIRE -832 16 -832 -48
WIRE 896 48 896 -16
WIRE 1104 48 896 48
WIRE 1392 48 1392 -16
WIRE 1392 48 1184 48
WIRE -112 112 -160 112
WIRE 208 112 112 112
WIRE 896 112 896 48
WIRE 1024 112 896 112
WIRE 1392 112 1392 48
WIRE 1392 112 1264 112
WIRE 896 128 896 112
WIRE 1392 128 1392 112
WIRE 1024 144 1024 112
WIRE 1264 144 1264 112
WIRE -112 192 -192 192
WIRE 176 192 176 176
WIRE 176 192 112 192
WIRE 848 208 816 208
WIRE 1344 208 1328 208
WIRE 896 240 896 224
WIRE 1024 240 1024 208
WIRE 1024 240 896 240
WIRE 1264 240 1264 208
WIRE 1392 240 1392 224
WIRE 1392 240 1264 240
WIRE -1008 256 -1008 208
WIRE -112 272 -160 272
WIRE 144 272 112 272
WIRE 144 288 144 272
WIRE 176 288 176 272
WIRE 176 288 144 288
WIRE 896 288 896 240
WIRE 1152 288 896 288
WIRE 1392 288 1392 240
WIRE 1392 288 1152 288
WIRE -160 304 -160 272
WIRE 176 304 176 288
WIRE 1152 336 1152 288
WIRE -1008 400 -1008 336
WIRE -160 416 -160 384
WIRE 176 416 176 384
FLAG -848 -368 0
FLAG -1008 -368 0
FLAG 1152 336 0
FLAG -1008 -528 V_12V
FLAG -848 -528 V_5V
FLAG 1152 -224 V_12V
FLAG 576 -320 0
FLAG 576 -112 0
FLAG 624 -256 Vfi
FLAG 608 -464 Vbi
FLAG 1328 208 Vfi
FLAG 816 -48 Vfi
FLAG 816 208 Vbi
FLAG 1328 -48 Vbi
FLAG 208 112 S2_PWM
FLAG 176 176 V_5V
FLAG -192 192 0
FLAG 176 416 0
FLAG -1008 16 0
FLAG -160 416 0
FLAG -208 -432 S2_PWM
FLAG -32 -224 0
FLAG -32 -432 0
FLAG 272 -320 V_12V
FLAG 272 -528 V_12V
FLAG -1008 -176 uCSpeed
FLAG -160 112 uCSpeed
FLAG -832 16 0
FLAG -832 -176 uCDir
FLAG -432 -464 uCDir
FLAG -432 -400 0
FLAG -432 -432 V_5V
FLAG -1008 400 0
FLAG -1008 208 fSpeed
FLAG 480 -320 0
FLAG 480 -112 0
FLAG -1168 -368 0
FLAG -1168 -528 V_36V
SYMBOL nmos 848 -128 R0
SYMATTR InstName F_H
SYMATTR Value IRF7821
SYMBOL voltage -1008 -512 R0
SYMATTR InstName V12V
SYMATTR Value 12V
SYMBOL voltage -848 -512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5V
SYMATTR Value 5V
SYMBOL res 336 -240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 1K
SYMBOL res 560 -240 R0
SYMATTR InstName R2
SYMATTR Value 9K
SYMBOL res 336 -448 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 1K
SYMBOL res 560 -448 R0
SYMATTR InstName R4
SYMATTR Value 9K
SYMBOL nmos 1344 -128 R0
SYMATTR InstName B_H
SYMATTR Value IRF7821
SYMBOL nmos 1344 128 R0
SYMATTR InstName F_L
SYMATTR Value IRF7821
SYMBOL nmos 848 128 R0
SYMATTR InstName B_L
SYMATTR Value IRF7821
SYMBOL schottky 1040 -48 R180
WINDOW 0 -48 66 Left 2
WINDOW 3 -101 0 Left 2
SYMATTR InstName D_FH
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1280 -48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 18 7 Left 2
SYMATTR InstName D_BH
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1280 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 16 7 Left 2
SYMATTR InstName D_FL
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1040 208 R180
WINDOW 0 -50 66 Left 2
WINDOW 3 -99 4 Left 2
SYMATTR InstName D_BL
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL SpecialFunctions\\LTC6992-1 0 192 R0
SYMATTR InstName U2
SYMBOL res -176 288 R0
SYMATTR InstName R_set1
SYMATTR Value 500K
SYMBOL res 160 176 R0
SYMATTR InstName R_top
SYMATTR Value 1Meg
SYMBOL res 160 288 R0
SYMATTR InstName R_bot
SYMATTR Value 500K
SYMBOL voltage -1008 -144 R0
SYMATTR InstName uASoeed
SYMATTR Value 0.5
SYMBOL Optos\\4N25 128 -464 R0
SYMATTR InstName U1
SYMBOL Optos\\4N25 128 -256 R0
SYMATTR InstName U3
SYMBOL res -112 -512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 330
SYMBOL res -112 -304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 330
SYMBOL voltage -832 -144 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName uDDir
SYMATTR Value PULSE(0V 5V 50ms 0.1ms 0.1ms 50ms 100ms)
SYMBOL ADG719 -336 -432 R0
SYMATTR InstName U4
SYMBOL schottky 256 -448 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D_FH1
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 256 -240 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D_FH2
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage -1008 240 R0
SYMATTR InstName fASpeed
SYMATTR Value 0.5V
SYMBOL cap 464 -432 R0
SYMATTR InstName C1
SYMATTR Value 0.01µF
SYMBOL cap 464 -224 R0
SYMATTR InstName C2
SYMATTR Value 0.01µF
SYMBOL voltage -1168 -512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V36V
SYMATTR Value 36V
SYMBOL ind 1088 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 0.1m
SYMATTR SpiceLine Ipk=50 Rser=0.000123 Rpar=4.71 Cpar=0
TEXT -56 624 Left 2 !.tran 110ms
TEXT -216 664 Left 2 ;PWM Pulse: PULSE(0V 5V 10ms 1ms 1ms 0.5s 1s)
