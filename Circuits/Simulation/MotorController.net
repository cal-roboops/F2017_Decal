* H:\MITCHELL STUFF 2\Work\Berkeley\Berkeley_AIAA\Code_F2017\Circuits\Simulation\MotorController.asc
L1 N007 N008 10m Ipk=173 Rser=0.1 Rpar=4.71 Cpar=0
XF_H V_Lion Vff N007 IRFB7537PBF
XB_L N007 Vbb 0 IRFB7537PBF
XB_H V_Lion Vbf N008 IRFB7537PBF
XF_L N008 Vfb 0 IRFB7537PBF
VFPGA_FSpeed FPGA_PWM 0 PULSE(0V 5V 0ms 0.001ms 0.001ms 0.1ms 0.2ms)
VGain V_Gain 0 30V
V4CLion V_Lion 0 {VCell*4}
R11 N003 0 9.9K
R12 N001 N003 0.1K
VFPGA_DIR FPGA_DIGITAL 0 0V
R17 N002 0 5K
R18 N001 N002 5K
R1 FPGA_OUT1 N006 1K
R2 N006 0 9K
XU1 N004 N006 0 RK7002BM
R3 V_Gain N004 5K
XU2 N001 N005 0 RK7002BM
R4 V_Gain N001 1K
C1 N004 0 0.01µF
R6 N004 N005 3.5K
R7 N005 0 1.5K
D1 N007 V_Lion 1N4148
D2 N008 V_Lion 1N4148
D3 0 N008 1N4148
D4 0 N007 1N4148
Q1 PWM_INV N014 0 0 2N2222
R5 N014 FPGA_PWM 33K
R8 V_Gain PWM_INV 4.7K
Q2 N010 N013 0 0 2N2222
R9 N013 P2 33K
R10 V_Gain N010 4.7K
R13 Vff N010 33K
Q3 N017 N020 0 0 2N2222
R14 N020 P2 33K
R15 V_Gain N017 4.7K
R16 Vbb N017 33K
Q4 N017 N021 0 0 2N2222
R19 PWM_INV N021 33K
Q5 N018 N023 0 0 2N2222
R20 N025 P2 33K
R21 V_Gain N018 4.7K
R22 Vfb N018 56K
Q6 N018 N022 0 0 2N2222
R23 PWM_INV N022 33K
Q7 N009 N011 0 0 2N2222
R24 N011 N012 33K
R25 V_Gain N009 4.7K
R26 Vbf N009 33K
Q8 N012 N015 0 0 2N2222
R27 V_Gain N012 4.7K
R28 N015 P2 33K
R29 N023 N024 33K
Q9 N024 N025 0 0 2N2222
R30 V_Gain N024 4.7K
.model D D
.lib C:\Users\PC\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\Users\PC\Documents\LTspiceXVII\lib\cmp\standard.bjt
.tran 10ms startup
* PWM Pulse: PULSE(0V 5V 10ms 1ms 1ms 0.5s 1s)
* PWM Pulse: PULSE(0V 5V 10ms 1ms 1ms 0.5s 1s)
* 25-28V for Op Amp Supply
.param VCell=4.2
* {V(Vff)-V(V_Lion)}
;step param TD list 0.01ms 0.02ms 0.04ms 0.05ms 0.07ms 0.08ms 0.09ms 0.1ms 0.11ms 0.13ms 0.15ms 0.2ms
* 0.09ms 0.1ms 0.11ms 0.13ms 0.15ms 0.2ms
.lib .\irfb7537pbf.cir
.lib .\RK7002BM.lib
.backanno
.end
